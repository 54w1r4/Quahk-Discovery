<!DOCTYPE html>
<html lang="zh">
  <head>
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <title>3rdMWDSC - Quahk Competitions</title>
    <link rel="stylesheet" href="css/materialize.min.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <meta charset="UTF-8" />
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script
      type="text/javascript"
      src="https://api.quahk.com/public_js/materialize.min.js"
    ></script>
    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-MF65WCX");
    </script>
    <!-- End Google Tag Manager -->
  </head>

  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-MF65WCX"
        height="0"
        width="0"
        style="display: none; visibility: hidden;"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="app-bar-bottom">
      <a
        class="btn-floating btn-large waves-effect waves-light red"
        id="nav-btn"
        ><i class="material-icons">add</i></a
      >
    </div>

    <form class="form-page">
      <div class="form1">
        <h4>發現中小企</h4>
        <h5>步驟3之1．商家資料(一)</h5>
        <br />
        <div class="input-field">
          <i class="material-icons prefix">business</i>
          <input
            id="store_name"
            type="text"
            class="validate"
            value=""
            required
          />
          <label for="store_name">商家名稱</label>
          <span class="helper-text" data-error="必填">必填</span>
        </div>
        <br />
        <div class="input-field" id="location_box">
          <i class="material-icons prefix">location_on</i>
          <input
            placeholder="可自動獲取位置"
            id="input_location"
            type="text"
            class="validate"
            value=""
            required
          />
          <label for="input_location">商家位置</label>
          <span class="helper-text" data-error="必填">必填</span>
        </div>
        <div class="input-field">
          <i class="material-icons prefix"></i>
          <input
            id="decoded_location"
            type="text"
            class="validate"
            value=""
            readonly="yes"
          />
          <!--<label for="decoded_location">商家位置</label> -->
        </div>
        <div class="input-field">
          <center>
            <a
              class="waves-effect waves-light green accent-4 btn"
              id="autoLocationBtn"
              onclick="startMap()"
              >自動獲取位置</a
            >
          </center>
        </div>
        <br />
      </div>
      <div class="form2">
        <h4>發現中小企</h4>
        <h5>步驟3之2．商家資料(二)</h5>
        <br />
        <div class="input-field">
          <i class="material-icons prefix">edit</i>
          <textarea
            placeholder="這商家的服務，態度如何？"
            id="textarea1"
            class="materialize-textarea"
          ></textarea>
          <label for="textarea1">意見</label>
        </div>
        <br />
        <div class="file-field input-field">
          <div class="btn">
            <span>上傳</span>
            <input type="file" multiple accept="image/*" />
          </div>
          <div class="file-path-wrapper">
            <input
              class="file-path validate"
              type="text"
              placeholder="上傳一或多張圖片"
            />
          </div>
        </div>
      </div>
      <div class="form-block"></div>
      <a
        class="btn-large waves-effect btn-flat closeBtn leftBtn"
        id="formCancelBtn"
        >取消</a
      >
      <a
        class="next_btn btn-floating btn-large waves-effect waves-light teal lighten-1"
        id="form1Next"
        ><i class="material-icons">arrow_forward</i></a
      >

      <a
        class="dropdown-trigger btn-floating btn-large waves-effect waves-light teal lighten-1 leftBtn"
        id="form2OptionsId"
        data-target="dropdown1"
        ><i class="material-icons">arrow_back</i></a
      >

      <!-- Dropdown Structure -->
      <ul id="dropdown1" class="dropdown-content">
        <li><a href="#cancelModal" class="closeBtn">取消</a></li>
        <li><a href="#!" id="backForm1Btn">上一步</a></li>
      </ul>

      <a
        class="next_btn btn-floating btn-large waves-effect waves-light teal lighten-1"
        id="form2Next"
        ><i class="material-icons">arrow_forward</i></a
      >
    </form>

    <!-- Cancel Modal -->
    <div id="cancelModel" class="modal">
      <div class="modal-content">
        <h4>你確定嗎？</h4>
        <p>你輸入的所有資料將被刪除！</p>
      </div>
      <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-green btn-flat"
          >返回</a
        >
        <a
          href="#!"
          class="modal-close waves-effect waves-green btn-flat closeBtn_Actions"
          >確定</a
        >
      </div>
    </div>

    <div id="missingInfoModel" class="modal">
      <div class="modal-content">
        <h4>Warning</h4>
        <p>Please provide all the needed informations.</p>
      </div>
      <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-green btn-flat"
          >Agree</a
        >
      </div>
    </div>

    <div id="mapError" class="modal">
      <div class="modal-content">
        <h4>抱歉！</h4>
        <p>您的裝置似乎不能夠自動獲取地理位置，但您可以嘗試自己選擇位置。</p>
        <p id="mapErrorReason">錯誤原因：裝置不支援HTML5 GEOLOCATION</p>
      </div>
      <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-green btn-flat"
          >好</a
        >
      </div>
    </div>

    <div id="mapModel" class="modal modal-fixed-footer">
      <div class="modal-content">
        <h4>Warning</h4>
        <div id="map"></div>
      </div>
      <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-green btn-flat"
          >Agree</a
        >
      </div>
    </div>

    <div class="loader-wrapper">
      <div class="preloader-wrapper small active">
        <div class="spinner-layer spinner-blue">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div>
          <div class="gap-patch">
            <div class="circle"></div>
          </div>
          <div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>

        <div class="spinner-layer spinner-red">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div>
          <div class="gap-patch">
            <div class="circle"></div>
          </div>
          <div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>

        <div class="spinner-layer spinner-yellow">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div>
          <div class="gap-patch">
            <div class="circle"></div>
          </div>
          <div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>

        <div class="spinner-layer spinner-green">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div>
          <div class="gap-patch">
            <div class="circle"></div>
          </div>
          <div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", function () {
        var elems = document.querySelectorAll(".modal");
        var instances = M.Modal.init(elems);
      });

      document.addEventListener("DOMContentLoaded", function () {
        var elems = document.querySelectorAll(".dropdown-trigger");
        var instances = M.Dropdown.init(elems);
      });
    </script>

    <!--<script src="https://api.quahk.com/3rdmwdsc/scrollPage.js"></script>
        <script src="js/getLocation.js"></script> -->
    <script src="js/map.js"></script>
    <script src="js/switchPage.js"></script>
    <script src="js/scrollPage.js"></script>

    <!-- Loading Page -->
    <script>
      $(window).on("load", function () {
        $(".loader-wrapper").fadeOut("slow");
      });
    </script>

    <script
      defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDkL_kdAxf16jL8gYWZubOhVkfsApIwO28"
      type="text/javascript"
    ></script>
    <script src="js/map.js"></script>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.16.1/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
             https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.16.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-performance.js"></script>

    <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyAG7-yLEWcsPtEgY18yY4v4yGaUui15lvk",
        authDomain: "quahk-competition-3rdmwdsc.firebaseapp.com",
        databaseURL: "https://quahk-competition-3rdmwdsc.firebaseio.com",
        projectId: "quahk-competition-3rdmwdsc",
        storageBucket: "quahk-competition-3rdmwdsc.appspot.com",
        messagingSenderId: "768144406056",
        appId: "1:768144406056:web:40c269b46cd21b67e6e71d",
        measurementId: "G-6YHSEGHMJV",
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();
      var storage = firebase.storage();
      var perf = firebase.performance();
    </script>
  </body>
</html>
